# dorm_bot

### Описание

Этот бот был создан для личного пользования, студентом проживающим в общежитии.

С помощью этого бота можно добавлять выполненые общественные обязательства( выбросил мусор, сходил в магазин,  сделал уборку) и кол-во потраченных денег. Нет жесткой привзяки к графику и таблицам, каждый делает когда он захотел и просто добавляет в список что он сделал. Бот создан для того чтобы все жители блока общежития видели кто сколько усилий вложил в общее дело.

### Как запустить?

Если у вас не установлен язык программирования Golang, [скачайте и устaновите](https://golang.org/doc/install) язык программирования Go. 

Скачайте Go библиотеку для разработки телеграм бота по комманде:
```
go get -u github.com/go-telegram-bot-api/telegram-bot-api
```
Скачайте исходный код:
```
git clone https://github.com/nurbolito/dorm_bot.git
```
Впишите свои данные в файле main.go
```go
var chatId := 0 //chatId to add bot (int)
var adminChatId := 0 //admins chatId to manage group (int)
const botToken := "" //bot token here? you can take it from @BotFather 
```
Нужно получить токен бота у [@botfather](https://t.me/botfather).
Найдите своего бота в телеграм и напишите ему личное сообщение.
Откройте ссылку ниже в браузере вставив свой бот токен.
```
https://api.telegram.org/bot[bot_token]/getUpdates
```
Вы получите JSON объект. Скопируйте графу chatId и вставте в переменную **adminChatId**.
Тоже самое проделайте для группового чата. Скопируйте графу chatId и вставте в переменную **chatId**.

```
go build
./dorm_bot
```
Зайдите в групповой чат и напишите **/start**

### Как администрировать?

Чтобы удалить данные, в личный чат с ботом напишити комманду:
```
/del ...username ...command ...amount
```
Например:
```
/del ivanov throw_trash 2
```
В примере выше у пользователя ivanov удалится два выбрасывание мусора.

Перед остановкой бота можете сделать сохранение данных с помощью команды **/save**,
И восстановаить данные с помощью команды **/recover**.

Данные хранятся в ввиде JSON в файле duty_struct.json.
Каждый день в 8 утра происхдит автосохранение.




